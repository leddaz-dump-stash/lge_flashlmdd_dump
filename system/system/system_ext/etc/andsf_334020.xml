<!--
1. IMS Apn : ims
   > IWLAN & Cellular
==================================================================================================================================
     WIFI-Available      WIFI RSSI        LTE         LTE RSRP        3G                     Call_Type    Roam      RESULT
==================================================================================================================================
1         Good             -75High                                  Bad (-108)                  0                   WiFi
2          X                              Good         -118High                                 0                   Cellular
3         Bad              -85Low         Good         -118High                                 0                   Cellular
4         Good             -75High        Bad          -122Low                                  0                   WiFi
5         Good             -75High        Good         -118High                                 0                   WiFi/Cellular
6         Bad              -85Low          X                                                    0                   NONE
7         Bad              -85Low         Bad          -122Low                                  0                   NONE
8         Good             -75High                                    X                         0                   WiFi

9          X                              Good         -118High                                 1                   Cellular
10        Bad              -80Low         Good         -118High                                 1                   Cellular
11        Good             -70High        Bad          -120Low                                  1                   WiFi
12        Bad              -80Low          X                                                    1                   NONE
13        Bad              -80Low         Bad          -120Low                                  1                   NONE
14        Good             -70High                                    X                         1                   WiFi

15         X                               O                                                               1        Cellular
16        Good             -75High         O                                                               1        WiFi
17        Good             -75High         X                                                               1        WiFi
18        Bad              -85Low          O                                                               1        Cellular
19        Bad              -85Low          X                                                               1        NONE
==================================================================================================================================

2. MMS Apn : mms.itelcel.com
   > IWLAN & Cellular
==============================================================================
     WIFI-Available              RSSI        Cellular              RESULT
==============================================================================
           X                                    X                   NONE
           X                                    O                   CELLULAR
           O                                    X                   WIFI
          Bad                   -85High         O                   CELLULAR
          Good                  -65Low          O                   WIFI
==============================================================================
-->

<ANDSF version="1">
  <Name>IWLAN and Quality(334/020 MX-TCL)</Name>
  <ISRP>
    <Node>
      <ForServiceBased>
<!--  ================IMS================ -->

        <MAPCON_WIFI_O_WIFIGOOD_UMTS_O_UMTSBAD_IDLE>
         <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-75</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <UMTSThreshold>
                    <UMTSRscpLow>-108</UMTSRscpLow>
                    <UMTSAvailable>1</UMTSAvailable>
                  </UMTSThreshold>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
              <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>1</RulePriority>
       </MAPCON_WIFI_O_WIFIGOOD_UMTS_O_UMTSBAD_IDLE>

        <MAPCON_WIFI_X_LTE_O_LTEGOOD_IDLE>
         <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                     <LTERSRPHigh>-118</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
              <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>2</RulePriority>
       </MAPCON_WIFI_X_LTE_O_LTEGOOD_IDLE>

       <MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEGOOD_IDLE>
         <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                     <LTERSRPHigh>-118</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
              <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>3</RulePriority>
       </MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEGOOD_IDLE>

       <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEBAD_IDLE>
         <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-75</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                     <LTERSRPLow>-122</LTERSRPLow>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
              <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>4</RulePriority>
       </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEBAD_IDLE>

        <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_IDLE>
         <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-75</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                     <LTERSRPHigh>-118</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
              <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>2</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>5</RulePriority>
       </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_IDLE>

       <MAPCON_WIFI_O_WIFIBAD_LTE_X_IDLE>
         <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
              <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>6</RulePriority>
       </MAPCON_WIFI_O_WIFIBAD_LTE_X_IDLE>

       <MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEBAD_IDLE>
         <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPLow>-122</LTERSRPLow>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
              <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>7</RulePriority>
       </MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEBAD_IDLE>

       <MAPCON_WIFI_O_WIFIGOOD_CELLULAR_X_IDLE>
         <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-75</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
              <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>8</RulePriority>
       </MAPCON_WIFI_O_WIFIGOOD_CELLULAR_X_IDLE>

        <!--  ================IMS - CONNECTED================ -->
        <MAPCON_WIFI_X_LTE_O_LTEGOOD_VOICE>
          <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPHigh>-118</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
              <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>9</RulePriority>
        </MAPCON_WIFI_X_LTE_O_LTEGOOD_VOICE>

       <MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEGOOD_VOICE>
          <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTERSRPHigh>-118</LTERSRPHigh>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-80</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
                </CallConditions>
                <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>10</RulePriority>
        </MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEGOOD_VOICE>

        <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEBAD_VOICE>
          <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiRSSIHigh>-70</WiFiRSSIHigh>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTERSRPLow>-120</LTERSRPLow>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
                </CallConditions>
                <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>11</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEBAD_VOICE>

        <MAPCON_WIFI_O_WIFIBAD_LTE_X_VOICE>
          <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-80</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
                </CallConditions>
                <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
                </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>12</RulePriority>
        </MAPCON_WIFI_O_WIFIBAD_LTE_X_VOICE>

        <MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEBAD_VOICE>
          <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPLow>-120</LTERSRPLow>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-80</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
                </CallConditions>
                <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>13</RulePriority>
        </MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEBAD_VOICE>

        <MAPCON_WIFI_O_WIFIGOOD_CELLULAR_X_VOICE>
         <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-70</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
              <PLMNCondition>
                  <Node>
                      <Roam>0</Roam>
                  </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>14</RulePriority>
       </MAPCON_WIFI_O_WIFIGOOD_CELLULAR_X_VOICE>
         <!--  ================end================ -->

         <!--  ================IMS Roaming================ -->
<!-- WiFi Not available && LTE available case -->
        <MAPCON_LTE_O_WIFI_X_ROAMING>
          <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <PLMNCondition>
                <Node>
                  <Roam>1</Roam>
                </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>15</RulePriority>
        </MAPCON_LTE_O_WIFI_X_ROAMING>
<!-- WiFi Good && LTE available case -->
        <MAPCON_LTE_O_WIFI_O_WIFIGOOD_ROAMING>
          <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSIHigh>-75</WiFiRSSIHigh>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <PLMNCondition>
                <Node>
                  <Roam>1</Roam>
                </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>1</AccessTechnology> <!-- Fallback -->
              <AccessNetworkPriority>2</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>16</RulePriority>
        </MAPCON_LTE_O_WIFI_O_WIFIGOOD_ROAMING>
<!-- WiFi Good && LTE Not available case -->
        <MAPCON_LTE_X_WIFI_O_WIFIGOOD_ROAMING>
          <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-75</WiFiRSSIHigh>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                <PLMNCondition>
                <Node>
                  <Roam>1</Roam>
                </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>17</RulePriority>
        </MAPCON_LTE_X_WIFI_O_WIFIGOOD_ROAMING>
<!-- WiFi Bad && LTE available case -->
        <MAPCON_LTE_O_WIFI_O_WIFIBAD_ROAMING>
          <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <PLMNCondition>
                <Node>
                  <Roam>1</Roam>
                </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>18</RulePriority>
        </MAPCON_LTE_O_WIFI_O_WIFIBAD_ROAMING>
<!-- WiFi Bad && LTE Not available case -->
        <MAPCON_LTE_X_WIFI_O_WIFI_BAD_ROAMING>
          <APN>ims</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <PLMNCondition>
                <Node>
                  <Roam>1</Roam>
                </Node>
              </PLMNCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>19</RulePriority>
        </MAPCON_LTE_X_WIFI_O_WIFI_BAD_ROAMING>

<!--  ================MMS================ -->
        <MAPCON_WIFI_X_CELLULAR_X>
          <APN>mms.itelcel.com</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>1</RulePriority>
        </MAPCON_WIFI_X_CELLULAR_X>

        <MAPCON_WIFI_X_CELLULAR_O>
          <APN>mms.itelcel.com</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>2</RulePriority>
        </MAPCON_WIFI_X_CELLULAR_O>

        <MAPCON_WIFI_O_CELLULAR_X>
          <APN>mms.itelcel.com</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>3</RulePriority>
        </MAPCON_WIFI_O_CELLULAR_X>

        <MAPCON_WIFI_BAD_CELLULAR_O>
          <APN>mms.itelcel.com</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>4</RulePriority>
        </MAPCON_WIFI_BAD_CELLULAR_O>

        <MAPCON_WIFI_GOOD_CELLULAR_O>
          <APN>mms.itelcel.com</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiRSSIHigh>-65</WiFiRSSIHigh>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>2</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>5</RulePriority>
        </MAPCON_WIFI_GOOD_CELLULAR_O>

    </ForServiceBased>
    </Node>
  </ISRP>
</ANDSF>


